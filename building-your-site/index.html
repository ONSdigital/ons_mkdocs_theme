<!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!doctype html><html lang=en class=no-js> <head><!-- Meta tags --><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><!-- Page description --><!-- Page author --><!-- Canonical --><!-- Previous page --><link href=../creating-your-site/ rel=prev><!-- Next page --><link href=../customisation/ rel=next><!-- RSS feed --><!-- Favicon --><link rel=icon href=../assets/images/favicon.ico><!-- Generator banner --><meta name=generator content="mkdocs-1.6.0, $md-name$-$md-version$"><!-- Site title --><title>ONS MkDocs Theme - Building Your Site - ONS MkDocs Theme</title><!-- Theme-related style sheets --><link rel=stylesheet href=../assets/stylesheets/main.css><!-- Extra color palette --><!-- Custom icons --><!-- JavaScript libraries --><!-- Webfonts --><!-- Load fonts from Google --><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>
          :root {
            --md-text-font: "Roboto";
            --md-code-font: "Roboto Mono";
          }
        </style><!-- Custom style sheets --><!-- Helper functions for inline scripts --><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><!-- Meta tags from front matter or plugins --><!-- Custom front matter --></head> <!-- Set text direction and color palette, if defined --> <body dir=ltr> <!--
      State toggles - we need to set autocomplete="off" in order to reset the
      drawer on back button invocation in some browsers
    --> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <!-- Overlay for expanded drawer --> <label class=md-overlay for=__drawer></label> <!-- Skip to content --> <div data-md-component=skip> <a href=#about-publishing-sources class=md-skip> Skip to content </a> </div> <!-- Announcement bar --> <div data-md-component=announce> </div> <!-- Version warning --> <!-- Header --> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="ONS MkDocs Theme" class="md-header__button md-logo" aria-label="ONS MkDocs Theme" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ONS MkDocs Theme </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> ONS MkDocs Theme - Building Your Site </span> </div> </div> </div> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ONSdigital/ons_mkdocs_theme title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ons_mkdocs_theme </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../setup/ class=md-tabs__link> Setup </a> </li> <li class=md-tabs__item> <a href=../creating-your-site/ class=md-tabs__link> Creating your site </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Building your site </a> </li> <li class=md-tabs__item> <a href=../customisation/ class=md-tabs__link> Customisation </a> </li> <li class=md-tabs__item> <a href=../contributing/reporting-a-bug/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> </header> <!-- Container --> <div class=md-container data-md-component=container> <!-- Hero teaser --> <!-- Navigation tabs (collapsing) --> <!-- Main area --> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <!-- Sidebars --> <!-- Navigation --> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="ONS MkDocs Theme" class="md-nav__button md-logo" aria-label="ONS MkDocs Theme" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> ONS MkDocs Theme </label> <div class=md-nav__source> <a href=https://github.com/ONSdigital/ons_mkdocs_theme title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> ons_mkdocs_theme </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../setup/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=../creating-your-site/ class=md-nav__link> <span class=md-ellipsis> Creating your site </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Building your site </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Building your site </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#about-publishing-sources class=md-nav__link> <span class=md-ellipsis> About publishing sources </span> </a> </li> <li class=md-nav__item> <a href=#publishing-from-a-branch class=md-nav__link> <span class=md-ellipsis> Publishing from a branch </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-publishing-from-a-branch class=md-nav__link> <span class=md-ellipsis> Troubleshooting publishing from a branch </span> </a> </li> <li class=md-nav__item> <a href=#publishing-with-a-custom-github-actions-workflow class=md-nav__link> <span class=md-ellipsis> Publishing with a custom GitHub Actions workflow </span> </a> </li> <li class=md-nav__item> <a href=#example-workflow class=md-nav__link> <span class=md-ellipsis> Example workflow </span> </a> </li> <li class=md-nav__item> <a href=#creating-a-custom-github-actions-workflow-to-publish-your-site class=md-nav__link> <span class=md-ellipsis> Creating a custom GitHub Actions workflow to publish your site </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-publishing-with-a-custom-github-actions-workflow class=md-nav__link> <span class=md-ellipsis> Troubleshooting publishing with a custom GitHub Actions workflow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../customisation/ class=md-nav__link> <span class=md-ellipsis> Customisation </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../contributing/reporting-a-bug/ class=md-nav__link> <span class=md-ellipsis> Reporting a bug </span> </a> </li> <li class=md-nav__item> <a href=../contributing/reporting-a-docs-issue/ class=md-nav__link> <span class=md-ellipsis> Reporting a docs issue </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <!-- Table of contents --> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#about-publishing-sources class=md-nav__link> <span class=md-ellipsis> About publishing sources </span> </a> </li> <li class=md-nav__item> <a href=#publishing-from-a-branch class=md-nav__link> <span class=md-ellipsis> Publishing from a branch </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-publishing-from-a-branch class=md-nav__link> <span class=md-ellipsis> Troubleshooting publishing from a branch </span> </a> </li> <li class=md-nav__item> <a href=#publishing-with-a-custom-github-actions-workflow class=md-nav__link> <span class=md-ellipsis> Publishing with a custom GitHub Actions workflow </span> </a> </li> <li class=md-nav__item> <a href=#example-workflow class=md-nav__link> <span class=md-ellipsis> Example workflow </span> </a> </li> <li class=md-nav__item> <a href=#creating-a-custom-github-actions-workflow-to-publish-your-site class=md-nav__link> <span class=md-ellipsis> Creating a custom GitHub Actions workflow to publish your site </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-publishing-with-a-custom-github-actions-workflow class=md-nav__link> <span class=md-ellipsis> Troubleshooting publishing with a custom GitHub Actions workflow </span> </a> </li> </ul> </nav> </div> </div> </div> <!-- Page content --> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Building your site</h1> <style>
  .md-typeset h1,
  .md-content__button {
    display: none;
  }
</style> <style> .md-typeset h1 { display: none; } .md-main__inner { margin-top: 0px; } .md-content__button { display: none; } </style> <p>Configuring a publishing source for your GitHub Pages site You can configure your GitHub Pages site to publish when changes are pushed to a specific branch, or you can write a GitHub Actions workflow to publish your site.</p> <div class="admonition info"> <p class=admonition-title>Who can use this feature?</p> <p>People with admin or maintainer permissions for a repository can configure a publishing source for a GitHub Pages site.</p> <p>GitHub Pages is available in public repositories with GitHub Free and GitHub Free for organizations, and in public and private repositories with GitHub Pro, GitHub Team, GitHub Enterprise Cloud, and GitHub Enterprise Server.</p> <p>GitHub Pages now uses GitHub Actions to execute the Jekyll build. When using a branch as the source of your build, GitHub Actions must be enabled in your repository if you want to use the built-in Jekyll workflow. Alternatively, if GitHub Actions is unavailable or disabled, adding a .nojekyll file to the root of your source branch will bypass the Jekyll build process and deploy the content directly. For more information on enabling GitHub Actions, see <a href=https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository>"Managing GitHub Actions settings for a repository."</a></p> </div> <h3 id=about-publishing-sources>About publishing sources</h3> <p>You can publish your site when changes are pushed to a specific branch, or you can write a GitHub Actions workflow to publish your site.</p> <p>If you do not need any control over the build process for your site, we recommend that you publish your site when changes are pushed to a specific branch. You can specify which branch and folder to use as your publishing source. The source branch can be any branch in your repository, and the source folder can either be the root of the repository (<code>/</code>) on the source branch or a <code>/docs</code> folder on the source branch. Whenever changes are pushed to the source branch, the changes in the source folder will be published to your GitHub Pages site.</p> <p>If you want to use a build process other than Jekyll or you do not want a dedicated branch to hold your compiled static files, we recommend that you write a GitHub Actions workflow to publish your site. GitHub provides starter workflows for common publishing scenarios to help you write your workflow.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>GitHub Pages sites are publicly available on the internet, even if the repository for the site is private (if your plan or organization allows it). If you have sensitive data in your site's repository, you may want to remove the data before publishing. For more information, see <a href=https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories#about-repository-visibility>"About repositories."</a></p> </div> <h3 id=publishing-from-a-branch>Publishing from a branch</h3> <ol> <li> <p>Make sure the branch you want to use as your publishing source already exists in your repository.</p> </li> <li> <p>On GitHub, navigate to your site's repository.</p> </li> <li> <p>Under your repository name, click Settings. If you cannot see the "Settings" tab, select the dropdown menu, then click Settings.</p> </li> </ol> <p><img alt="alt text" src=https://docs.github.com/assets/cb-28260/mw-1440/images/help/repository/repo-actions-settings.webp></p> <ol> <li> <p>In the "Code and automation" section of the sidebar, click <strong>Pages</strong>.</p> </li> <li> <p>Under "Build and deployment", under "Source", select Deploy from a branch.</p> </li> <li> <p>Under "Build and deployment", use the branch dropdown menu and select a publishing source.</p> </li> </ol> <p><img alt="alt text" src=https://docs.github.com/assets/cb-47265/mw-1440/images/help/pages/publishing-source-drop-down.webp></p> <ol> <li>Optionally, use the folder dropdown menu to select a folder for your publishing source.</li> </ol> <p><img alt="alt text" src=https://docs.github.com/assets/cb-24510/mw-1440/images/help/pages/publishing-source-folder-drop-down.webp></p> <ol> <li>Click Save.</li> </ol> <h3 id=troubleshooting-publishing-from-a-branch>Troubleshooting publishing from a branch</h3> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Note: If your repository contains symbolic links, you will need to publish your site using a GitHub Actions workflow. For more information about GitHub Actions, see <a href=https://docs.github.com/en/actions>"GitHub Actions documentation."</a></p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If you are publishing from a branch and your site has not published automatically, make sure someone with admin permissions and a verified email address has pushed to the publishing source.</p> <p>Commits pushed by a GitHub Actions workflow that uses the <code>GITHUB_TOKEN</code> do not trigger a GitHub Pages build.</p> <p>If you choose the <code>docs</code> folder on any branch as your publishing source, then later remove the <code>/docs</code> folder from that branch in your repository, your site won't build and you'll get a page build error message for a missing <code>/docs</code> folder. For more information, see <a href=https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/troubleshooting-jekyll-build-errors-for-github-pages-sites#missing-docs-folder>"Troubleshooting Jekyll build errors for GitHub Pages sites."</a></p> <p>Your GitHub Pages site will always be deployed with a GitHub Actions workflow run, even if you've configured your GitHub Pages site to be built using a different CI tool. Most external CI workflows "deploy" to GitHub Pages by committing the build output to the <code>gh-pages</code> branch of the repository, and typically include a <code>.nojekyll</code> file. When this happens, the GitHub Actions workflow will detect the state that the branch does not need a build step, and will execute only the steps necessary to deploy the site to GitHub Pages servers.</p> <p>To find potential errors with either the build or deployment, you can check the workflow run for your GitHub Pages site by reviewing your repository's workflow runs. For more information, see <a href=(https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/viewing-workflow-run-history)>"Viewing workflow run history."</a> For more information about how to re-run the workflow in case of an error, see <a href=(https://docs.github.com/en/actions/managing-workflow-runs/re-running-workflows-and-jobs)>"Re-running workflows and jobs."</a></p> </div> <h3 id=publishing-with-a-custom-github-actions-workflow>Publishing with a custom GitHub Actions workflow</h3> <p>To configure your site to publish with GitHub Actions:</p> <ol> <li> <p>On GitHub, navigate to your site's repository.</p> </li> <li> <p>Under your repository name, click Settings. If you cannot see the "Settings" tab, select the dropdown menu, then click Settings.</p> </li> </ol> <p><img alt="alt text" src=https://docs.github.com/assets/cb-28260/mw-1440/images/help/repository/repo-actions-settings.webp></p> <ol> <li> <p>In the "Code and automation" section of the sidebar, click Pages.</p> </li> <li> <p>Under "Build and deployment", under "Source", select GitHub Actions.</p> </li> <li> <p>GitHub will suggest several starter workflows. If you already have a workflow to publish your site, you can skip this step. Otherwise, choose one of the options to create a GitHub Actions workflow. For more information about creating your custom workflow, see <a href=https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site#creating-a-custom-github-actions-workflow-to-publish-your-site>"Creating a custom GitHub Actions workflow to publish your site."</a></p> </li> </ol> <p>GitHub Pages does not associate a specific workflow to the GitHub Pages settings.</p> <p>However, the GitHub Pages settings will link to the workflow run that most recently deployed your site.</p> <h3 id=example-workflow>Example workflow</h3> <pre><code class=language-yaml>name: &quot;Deploy GitHub Pages&quot;

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: Check out repository
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: &quot;3.11&quot;

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: Build the MkDocs site
        run: python -m mkdocs build

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./site
</code></pre> <h3 id=creating-a-custom-github-actions-workflow-to-publish-your-site>Creating a custom GitHub Actions workflow to publish your site</h3> <p>For more information about GitHub Actions, see <a href=https://docs.github.com/en/actions>"GitHub Actions documentation."</a></p> <p>When you configure your site to publish with GitHub Actions, GitHub will suggest starter workflows for common publishing scenarios. The general flow of a workflow is to:</p> <ol> <li>Trigger whenever there is a push to the default branch of the repository or whenever the workflow is run manually from the Actions tab.</li> <li>Use the <a href=https://github.com/actions/checkout>actions/checkout</a> action to check out the repository contents.</li> <li>If required by your site, build any static site files.</li> <li>Use the <a href=https://github.com/actions/upload-pages-artifact>actions/upload-pages-artifact</a> action to upload the static files as an artifact.</li> <li>If the workflow was triggered by a push to the default branch, use the <a href=https://github.com/actions/deploy-pages>actions/deploy-pages</a> action to deploy the artifact. This step is skipped if the workflow was triggered by a pull request.</li> </ol> <p>The starter workflows use a deployment environment called <code>github-pages</code>. If your repository does not already include an environment called <code>github-pages</code>, the environment will be created automatically. We recommend that you add a deployment protection rule so that only the default branch can deploy to this environment. For more information, see <a href=https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment>"Managing environments for deployment."</a></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Note: A <code>CNAME</code> file in your repository file does not automatically add or remove a custom domain. Instead, you must configure the custom domain through your repository settings or through the API. For more information, see <a href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-a-subdomain>"Managing a custom domain for your GitHub Pages site"</a> and <a href=https://docs.github.com/en/rest/pages#update-information-about-a-github-pages-site>"REST API endpoints for GitHub Pages."</a></p> </div> <h3 id=troubleshooting-publishing-with-a-custom-github-actions-workflow>Troubleshooting publishing with a custom GitHub Actions workflow</h3> <p>For information about how to troubleshoot your GitHub Actions workflow, see <a href=https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/about-monitoring-and-troubleshooting>"Monitoring and troubleshooting workflows."</a></p> </article> </div> <!-- User preference: content --> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <!-- Back-to-top button --> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <!-- Footer --> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <img src=assets\images\govuk-crest.svg width=60px height=60px> <p>&copy; <a href=https://www.ons.gov.uk>Office for National Statistics 2024</a> </p> </div> </div> <div class=md-social> <a href=https://github.com/ONSdigital/ons_mkdocs_theme target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <!-- Dialog --> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <!-- Progress indicator --> <!-- Consent --> <!-- Theme-related configuration --> <!-- Versioning --><!-- Tags --><!-- Translations --><!-- Configuration --> <script id=__config type=application/json>{"base": "..", "features": ["content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <!-- Theme-related JavaScript --> <script src=../assets/javascripts/bundle.js></script> <!-- Custom JavaScript --> </body> </html>